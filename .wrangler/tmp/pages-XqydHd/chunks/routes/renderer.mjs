import{w as e,b as t,t as r,i as n,e as s,f as o,h as a,j as i,o as c,k as l,l as p,n as u,p as d,s as f,q as y,u as h,v as g,N as m,x as T,y as _,z as b,F as w,S,C as $,A as v,T as R,B as k,D as x,E as C,G as A,H as j,I as H,J as M,K as L,L as P,M as O,O as E,P as N,Q as U,R as V,U as D,V as B,W as z,X as q,Y as I,Z as W,_ as F,$ as J,a0 as K,a1 as X,a2 as G,a3 as Y,a4 as Q,a5 as Z,a6 as ee,a7 as te,a8 as re,a9 as ne,aa as se,ab as oe,c as ae,ac as ie,ad as ce,ae as le,af as pe,ag as ue,ah as de,ai as fe}from"../nitro/nitro.mjs";function getModuleDependencies(e,t){if(t._dependencies[e])return t._dependencies[e];const r=t._dependencies[e]={scripts:{},styles:{},preload:{},prefetch:{}};if(!t.manifest)return r;const n=t.manifest[e];if(!n)return r;n.file&&(r.preload[e]=n,(n.isEntry||n.sideEffects)&&(r.scripts[e]=n));for(const e of n.css||[])r.styles[e]=r.preload[e]=r.prefetch[e]=t.manifest[e];for(const e of n.assets||[])r.preload[e]=r.prefetch[e]=t.manifest[e];for(const e of n.imports||[]){const n=getModuleDependencies(e,t);for(const e in n.styles)r.styles[e]=n.styles[e];for(const e in n.preload)r.preload[e]=n.preload[e];for(const e in n.prefetch)r.prefetch[e]=n.prefetch[e]}const s={};for(const e in r.preload){const t=r.preload[e];t.preload&&(s[e]=t)}return r.preload=s,r}function getRequestDependencies(e,t){if(e._requestDependencies)return e._requestDependencies;const r=function(e,t){let r="";const n=[...e].sort();for(let e=0;e<n.length;e++)e>0&&(r+=","),r+=n[e];if(t._dependencySets[r])return t._dependencySets[r];const s={scripts:{},styles:{},preload:{},prefetch:{}};for(const r of e){const e=getModuleDependencies(r,t);for(const t in e.scripts)s.scripts[t]=e.scripts[t];for(const t in e.styles)s.styles[t]=e.styles[t];for(const t in e.preload)s.preload[t]=e.preload[t];for(const t in e.prefetch)s.prefetch[t]=e.prefetch[t];for(const e of t.manifest?.[r]?.dynamicImports||[]){const r=getModuleDependencies(e,t);for(const e in r.scripts)s.prefetch[e]=r.scripts[e];for(const e in r.styles)s.prefetch[e]=r.styles[e];for(const e in r.preload)s.prefetch[e]=r.preload[e]}}const o={};for(const e in s.prefetch){const t=s.prefetch[e];t.prefetch&&(o[e]=t)}s.prefetch=o;for(const e in s.preload)delete s.prefetch[e];for(const e in s.styles)delete s.preload[e],delete s.prefetch[e];return t._dependencySets[r]=s,s}(new Set(Array.from([...t._entrypoints,...e.modules||e._registeredComponents||[]])),t);return e._requestDependencies=r,r}function renderStyles(e,t){const{styles:r}=getRequestDependencies(e,t);let n="";for(const e in r){const s=r[e];n+=`<link rel="stylesheet" href="${t.buildAssetsURL(s.file)}" crossorigin>`}return n}function renderResourceHints(e,t){const{preload:r,prefetch:n}=getRequestDependencies(e,t);let s="";for(const e in r){const n=r[e],o=t.buildAssetsURL(n.file),a=n.module?"modulepreload":"preload",i="style"===n.resourceType||"font"===n.resourceType||"script"===n.resourceType||n.module?" crossorigin":"";n.resourceType&&n.mimeType?s+=`<link rel="${a}" as="${n.resourceType}" type="${n.mimeType}"${i} href="${o}">`:n.resourceType?s+=`<link rel="${a}" as="${n.resourceType}"${i} href="${o}">`:s+=`<link rel="${a}"${i} href="${o}">`}for(const e in n){const r=n[e],o=t.buildAssetsURL(r.file),a="style"===r.resourceType||"font"===r.resourceType||"script"===r.resourceType||r.module?" crossorigin":"";r.resourceType&&r.mimeType?s+=`<link rel="prefetch" as="${r.resourceType}" type="${r.mimeType}"${a} href="${o}">`:r.resourceType?s+=`<link rel="prefetch" as="${r.resourceType}"${a} href="${o}">`:s+=`<link rel="prefetch"${a} href="${o}">`}return s}function renderResourceHeaders(e,t){const{preload:r,prefetch:n}=getRequestDependencies(e,t),s=[];for(const e in r){const n=r[e];let o=`<${t.buildAssetsURL(n.file)}>; rel="${n.module?"modulepreload":"preload"}"`;n.resourceType&&(o+=`; as="${n.resourceType}"`),n.mimeType&&(o+=`; type="${n.mimeType}"`),("style"===n.resourceType||"font"===n.resourceType||"script"===n.resourceType||n.module)&&(o+="; crossorigin"),s.push(o)}for(const e in n){const r=n[e];let o=`<${t.buildAssetsURL(r.file)}>; rel="prefetch"`;r.resourceType&&(o+=`; as="${r.resourceType}"`),r.mimeType&&(o+=`; type="${r.mimeType}"`),("style"===r.resourceType||"font"===r.resourceType||"script"===r.resourceType||r.module)&&(o+="; crossorigin"),s.push(o)}return{link:s.join(", ")}}function getPreloadLinks(e,t){const{preload:r}=getRequestDependencies(e,t),n=[];for(const e in r){const s=r[e];n.push({rel:s.module?"modulepreload":"preload",as:s.resourceType,type:s.mimeType??null,crossorigin:"style"===s.resourceType||"font"===s.resourceType||"script"===s.resourceType||s.module?"":null,href:t.buildAssetsURL(s.file)})}return n}function getPrefetchLinks(e,t){const{prefetch:r}=getRequestDependencies(e,t),n=[];for(const e in r){const s=r[e];n.push({rel:"prefetch",as:s.resourceType,type:s.mimeType??null,crossorigin:"style"===s.resourceType||"font"===s.resourceType||"script"===s.resourceType||s.module?"":null,href:t.buildAssetsURL(s.file)})}return n}function renderScripts(e,t){const{scripts:r}=getRequestDependencies(e,t);let n="";for(const e in r){const s=r[e];s.module?n+=`<script type="module" src="${t.buildAssetsURL(s.file)}" crossorigin><\/script>`:n+=`<script src="${t.buildAssetsURL(s.file)}" defer crossorigin><\/script>`}return n}function createRenderer(t,r){const n=function({manifest:t,precomputed:r,buildAssetsURL:n}){if(!t&&!r)throw new Error("Either manifest or precomputed data must be provided");const s={buildAssetsURL:n||e,manifest:t,precomputed:r,updateManifest:updateManifest,_dependencies:{},_dependencySets:{},_entrypoints:[]};function updateManifest(e){const t=Object.entries(e);s.manifest=e,s._dependencies={},s._dependencySets={},s._entrypoints=t.filter(e=>e[1].isEntry).map(([e])=>e)}return r?(s._dependencies=r.dependencies,s._entrypoints=r.entrypoints):t&&updateManifest(t),s}(r);return{rendererContext:n,async renderToString(e){e._registeredComponents=e._registeredComponents||new Set;const s=await Promise.resolve(t).then(e=>"default"in e?e.default:e),o=await s(e),wrap=t=>()=>t(e,n);return{html:await r.renderToString(o,e),renderResourceHeaders:wrap(renderResourceHeaders),renderResourceHints:wrap(renderResourceHints),renderStyles:wrap(renderStyles),renderScripts:wrap(renderScripts)}}}}const ye=new Set(["meta","link","base"]),he=new Set(["link","style","script","noscript"]),ge=new Set(["title","titleTemplate","script","style","noscript"]),me=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Te=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),_e=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),be=new Set(["templateParams","htmlAttrs","bodyAttrs"]),we=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Se=["name","property","http-equiv"],$e=new Set(["viewport","description","keywords","robots"]);function dedupeKey(e){const{props:t,tag:r}=e;if(Te.has(r))return r;if("link"===r&&"canonical"===t.rel)return"canonical";if(t.charset)return"charset";if("meta"===e.tag)for(const n of Se)if(void 0!==t[n]){const s=t[n],o=s.includes(":"),a=$e.has(s);return`${r}:${s}${!(o||a)&&e.key?`:key:${e.key}`:""}`}if(e.key)return`${r}:key:${e.key}`;if(t.id)return`${r}:id:${t.id}`;if(ge.has(r)){const t=e.textContent||e.innerHTML;if(t)return`${r}:content:${t}`}}function walkResolver(e,t,r){let n;if("function"===typeof e&&(r&&("titleTemplate"===r||"o"===r[0]&&"n"===r[1])||(e=e())),t&&(n=t(r,e)),Array.isArray(n))return n.map(e=>walkResolver(e,t));if(n?.constructor===Object){const e={};for(const r of Object.keys(n))e[r]=walkResolver(n[r],t,r);return e}return n}function normalizeProps(e,t){return e.props=e.props||{},t?"templateParams"===e.tag?(e.props=t,e):(Object.entries(t).forEach(([r,n])=>{if(null===n)return void(e.props[r]=null);if("class"===r||"style"===r)return void(e.props[r]=function(e,t){const r="style"===e?new Map:new Set;function processValue(t){const n=t.trim();if(n)if("style"===e){const[e,...t]=n.split(":").map(e=>e.trim());e&&t.length&&r.set(e,t.join(":"))}else n.split(" ").filter(Boolean).forEach(e=>r.add(e))}return"string"==typeof t?"style"===e?t.split(";").forEach(processValue):processValue(t):Array.isArray(t)?t.forEach(e=>processValue(e)):t&&"object"==typeof t&&Object.entries(t).forEach(([t,n])=>{n&&"false"!==n&&("style"===e?r.set(t.trim(),n):processValue(t))}),r}(r,n));if(_e.has(r)){if(["textContent","innerHTML"].includes(r)&&"object"==typeof n){let s=t.type;if(t.type||(s="application/json"),!s?.endsWith("json")&&"speculationrules"!==s)return;t.type=s,e.props.type=s,e[r]=JSON.stringify(n)}else e[r]=n;return}const s=String(n),o=r.startsWith("data-");"true"===s||""===s?e.props[r]=!o||s:!n&&o&&"false"===s?e.props[r]="false":void 0!==n&&(e.props[r]=n)}),e):e}function normalizeTag(e,t){const r=normalizeProps({tag:e,props:{}},"object"==typeof t&&"function"!=typeof t?t:{["script"===e||"noscript"===e||"style"===e?"innerHTML":"textContent"]:t});return r.key&&he.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),"script"===r.tag&&"object"==typeof r.innerHTML&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(e=>({...r,props:{...r.props,content:e}})):r}function normalizeEntryToTags(e,t){if(!e)return[];"function"==typeof e&&(e=e());const resolvers=(e,r)=>{for(let n=0;n<t.length;n++)r=t[n](e,r);return r};e=resolvers(void 0,e);const r=[];return e=walkResolver(e,resolvers),Object.entries(e||{}).forEach(([e,t])=>{if(void 0!==t)for(const n of Array.isArray(t)?t:[t])r.push(normalizeTag(e,n))}),r.flat()}const sortTags=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,ve={base:-10,title:10},Re={critical:-8,high:-1,low:2},ke={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},xe=/@import/,isTruthy=e=>""===e||!0===e;function tagWeight(e,t){if("number"==typeof t.tagPriority)return t.tagPriority;let r=100;const n=Re[t.tagPriority]||0,s=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:ke;if(t.tag in ve)r=ve[t.tag];else if("meta"===t.tag){const e="content-security-policy"===t.props["http-equiv"]?"content-security-policy":t.props.charset?"charset":"viewport"===t.props.name?"viewport":null;e&&(r=ke.meta[e])}else"link"===t.tag&&t.props.rel?r=s.link[t.props.rel]:"script"===t.tag?isTruthy(t.props.async)?r=s.script.async:!t.props.src||isTruthy(t.props.defer)||isTruthy(t.props.async)||"module"===t.props.type||t.props.type?.endsWith("json")?isTruthy(t.props.defer)&&t.props.src&&!isTruthy(t.props.async)&&(r=s.script.defer):r=s.script.sync:"style"===t.tag&&(r=t.innerHTML&&xe.test(t.innerHTML)?s.style.imported:s.style.sync);return(r||100)+n}function registerPlugin(e,t){const r="function"==typeof t?t(e):t,n=r.key||String(e.plugins.size+1);e.plugins.get(n)||(e.plugins.set(n,r),e.hooks.addHooks(r.hooks||{}))}function createUnhead(e={}){const r=t();r.addHooks(e.hooks||{});const n=!e.document,s=new Map,o=new Map,a=new Set,i={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:e,hooks:r,ssr:n,entries:s,headEntries:()=>[...s.values()],use:e=>registerPlugin(i,e),push(e,t){const o={...t||{}};delete o.head;const c=o._index??i._entryCount++,l={_i:c,input:e,options:o},p={_poll(e=!1){i.dirty=!0,!e&&a.add(c),r.callHook("entries:updated",i)},dispose(){s.delete(c)&&i.invalidate()},patch(e){(!o.mode||"server"===o.mode&&n||"client"===o.mode&&!n)&&(l.input=e,s.set(c,l),p._poll())}};return p.patch(e),p},async resolveTags(){const t={tagMap:new Map,tags:[],entries:[...i.entries.values()]};for(await r.callHook("entries:resolve",t);a.size;){const t=a.values().next().value;a.delete(t);const n=s.get(t);if(n){const t={tags:normalizeEntryToTags(n.input,e.propResolvers||[]).map(e=>Object.assign(e,n.options)),entry:n};await r.callHook("entries:normalize",t),n._tags=t.tags.map((e,t)=>(e._w=tagWeight(i,e),e._p=(n._i<<10)+t,e._d=dedupeKey(e),e))}}let n=!1;t.entries.flatMap(e=>(e._tags||[]).map(e=>({...e,props:{...e.props}}))).sort(sortTags).reduce((e,t)=>{const r=String(t._d||t._p);if(!e.has(r))return e.set(r,t);const s=e.get(r);if("merge"===(t?.tagDuplicateStrategy||(be.has(t.tag)?"merge":null)||(t.key&&t.key===s.key?"merge":null))){const n={...s.props};Object.entries(t.props).forEach(([e,t])=>n[e]="style"===e?new Map([...s.props.style||new Map,...t]):"class"===e?new Set([...s.props.class||new Set,...t]):t),e.set(r,{...t,props:n})}else t._p>>10==s._p>>10&&"meta"===t.tag&&function(e){const t=e.split(":");return!!t.length&&we.has(t[1])}(r)?(e.set(r,Object.assign([...Array.isArray(s)?s:[s],t],t)),n=!0):(t._w===s._w?t._p>s._p:t?._w<s?._w)&&e.set(r,t);return e},t.tagMap);const o=t.tagMap.get("title"),c=t.tagMap.get("titleTemplate");if(i._title=o?.textContent,c){const e=c?.textContent;if(i._titleTemplate=e,e){let r="function"==typeof e?e(o?.textContent):e;"string"!=typeof r||i.plugins.has("template-params")||(r=r.replace("%s",o?.textContent||"")),o?null===r?t.tagMap.delete("title"):t.tagMap.set("title",{...o,textContent:r}):(c.tag="title",c.textContent=r)}}t.tags=Array.from(t.tagMap.values()),n&&(t.tags=t.tags.flat().sort(sortTags)),await r.callHook("tags:beforeResolve",t),await r.callHook("tags:resolve",t),await r.callHook("tags:afterResolve",t);const l=[];for(const e of t.tags){const{innerHTML:t,tag:r,props:n}=e;if(me.has(r)&&((0!==Object.keys(n).length||e.innerHTML||e.textContent)&&("meta"!==r||n.content||n["http-equiv"]||n.charset))){if("script"===r&&t){if(n.type?.endsWith("json")){const r="string"==typeof t?t:JSON.stringify(t);e.innerHTML=r.replace(/</g,"\\u003C")}else"string"==typeof t&&(e.innerHTML=t.replace(new RegExp(`</${r}`,"g"),`<\\/${r}`));e._d=dedupeKey(e)}l.push(e)}}return l},invalidate(){for(const e of s.values())a.add(e._i);i.dirty=!0,r.callHook("entries:updated",i)}};return(e?.plugins||[]).forEach(e=>registerPlugin(i,e)),i.hooks.callHook("init",i),e.init?.forEach(e=>e&&i.push(e)),i}function encodeAttribute(e){return String(e).replace(/"/g,"&quot;")}function propsToString(e){let t="";for(const r in e){if(!Object.hasOwn(e,r))continue;let n=e[r];"class"!==r&&"style"!==r||"string"==typeof n||(n="class"===r?Array.from(n).join(" "):Array.from(n).map(([e,t])=>`${e}:${t}`).join(";")),!1!==n&&null!==n&&(t+=!0===n?` ${r}`:` ${r}="${encodeAttribute(n)}"`)}return t}function tagToString(e){const t=propsToString(e.props),r=`<${e.tag}${t}>`;if(!ge.has(e.tag))return ye.has(e.tag)?r:`${r}</${e.tag}>`;let n=String(e.textContent||e.innerHTML||"");return n="title"===e.tag?n.replace(/[&<>"'/]/g,e=>{switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#x27;";case"/":return"&#x2F;";default:return e}}):n.replace(new RegExp(`</${e.tag}`,"gi"),`<\\/${e.tag}`),ye.has(e.tag)?r:`${r}${n}</${e.tag}>`}async function renderSSRHead(e,t){const r={shouldRender:!0};if(await e.hooks.callHook("ssr:beforeRender",r),!r.shouldRender)return{headTags:"",bodyTags:"",bodyTagsOpen:"",htmlAttrs:"",bodyAttrs:""};const n={tags:t?.resolvedTags||await e.resolveTags()};await e.hooks.callHook("ssr:render",n);const s=function(e){const t={htmlAttrs:{},bodyAttrs:{},tags:{head:"",bodyClose:"",bodyOpen:""}};for(const r of e){if("htmlAttrs"===r.tag||"bodyAttrs"===r.tag){Object.assign(t[r.tag],r.props);continue}const e=tagToString(r),n=r.tagPosition||"head";t.tags[n]+=t.tags[n]?`${e}`:e}return{headTags:t.tags.head,bodyTags:t.tags.bodyClose,bodyTagsOpen:t.tags.bodyOpen,htmlAttrs:propsToString(t.htmlAttrs),bodyAttrs:propsToString(t.bodyAttrs)}}(n.tags),o={tags:n.tags,html:s};return await e.hooks.callHook("ssr:rendered",o),o.html}const VueResolver=(e,t)=>n(t)?r(t):t,Ce="usehead";function injectHead(){if(a()){const e=i(Ce);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function useHead(e,t={}){const r=t.head||injectHead();return r.ssr?r.push(e||{},t):function(e,t,r={}){const n=s(!1);let a;o(()=>{const s=n.value?{}:walkResolver(t,VueResolver);a?a.patch(s):a=e.push(s,r)});u()&&(c(()=>{a.dispose()}),l(()=>{n.value=!0}),p(()=>{n.value=!1}));return a}(r,e,t)}function createHead(e={}){const t=function(e={}){const t=createUnhead({...e,document:!1,propResolvers:[...e.propResolvers||[],(e,t)=>e&&e.startsWith("on")&&"function"==typeof t?`this.dataset.${e}fired = true`:t],init:[e.disableDefaults?void 0:{htmlAttrs:{lang:"en"},meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"}]},...e.init||[]]});return t._ssrPayload={},t.use({key:"server",hooks:{"tags:resolve":function(e){const r=e.tagMap.get("title"),n=e.tagMap.get("titleTemplate");let s={title:"server"===r?.mode?t._title:void 0,titleTemplate:"server"===n?.mode?t._titleTemplate:void 0};Object.keys(t._ssrPayload||{}).length>0&&(s={...t._ssrPayload,...s}),Object.values(s).some(Boolean)&&e.tags.push({tag:"script",innerHTML:JSON.stringify(s),props:{id:"unhead:payload",type:"application/json"}})}}}),t}({...e,propResolvers:[VueResolver]});return t.install=function(e){return{install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(Ce,e)}}.install}(t),t}const Ae=A(",key,ref,innerHTML,textContent,ref_key,ref_for");function ssrRenderAttrs(e,t){let r="";for(const n in e){if(Ae(n)||j(n)||"textarea"===t&&"value"===n)continue;const s=e[n];r+="class"===n?` class="${ssrRenderClass(s)}"`:"style"===n?` style="${ssrRenderStyle(s)}"`:"className"===n?` class="${String(s)}"`:ssrRenderDynamicAttr(n,s,t)}return r}function ssrRenderDynamicAttr(e,t,r){if(!P(t))return"";const n=r&&(r.indexOf("-")>0||O(r))?e:E[e]||e.toLowerCase();return N(n)?U(t)?` ${n}`:"":V(n)?""===t?` ${n}`:` ${n}="${k(t)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${n}`),"")}function ssrRenderClass(e){return k(H(e))}function ssrRenderStyle(e){if(!e)return"";if(b(e))return k(e);const t=M(function(e){if(!T(e)&&D(e)){const t={};for(const r in e)r.startsWith(":--")?t[r.slice(1)]=B(e[r]):t[r]=e[r];return t}return e}(e));return k(L(t))}function ssrRenderComponent(e,t=null,r=null,n=null,s){return renderComponentVNode(d(e,t,r),n,s)}const{ensureValidVNode:je}=f;function ssrRenderSlot(e,t,r,n,s,o,a){s("\x3c!--[--\x3e"),function(e,t,r,n,s,o,a){const i=e[t];if(i){const e=[],t=i(r,t=>{e.push(t)},o,a?" "+a:"");if(T(t)){const e=je(t);e?renderVNodeChildren(s,e,o,a):n&&n()}else{let t=!0;for(let r=0;r<e.length;r++)if(!isComment(e[r])){t=!1;break}if(t)n&&n();else{let t=0,r=e.length;if(t<r)for(let n=t;n<r;n++)s(e[n])}}}else n&&n()}(e,t,r,n,s,o,a),s("\x3c!--]--\x3e")}const He=/^<!--[\s\S]*-->$/,Me=/<!--[^]*?-->/gm;function isComment(e){return!("string"!=typeof e||!He.test(e))&&(e.length<=8||!e.replace(Me,"").trim())}function ssrInterpolate(e){return k(z(e))}{const e=W(),registerGlobalSetter=(t,r)=>{let n;return(n=e[t])||(n=e[t]=[]),n.push(r),e=>{n.length>1?n.forEach(t=>t(e)):n[0](e)}};registerGlobalSetter("__VUE_INSTANCE_SETTERS__",e=>e),registerGlobalSetter("__VUE_SSR_SETTERS__",e=>e)}function ssrRenderList(e,t){if(T(e)||b(e))for(let r=0,n=e.length;r<n;r++)t(e[r],r);else if("number"==typeof e)for(let r=0;r<e;r++)t(r+1,r);else if(D(e))if(e[Symbol.iterator]){const r=Array.from(e);for(let e=0,n=r.length;e<n;e++)t(r[e],e)}else{const r=Object.keys(e);for(let n=0,s=r.length;n<s;n++){const s=r[n];t(e[s],s,n)}}}async function ssrRenderSuspense(e,{default:t}){t?t():e("\x3c!----\x3e")}function ssrGetDynamicModelProps(e={},t){const{type:r,value:n}=e;switch(r){case"radio":return q(t,n)?{checked:!0}:null;case"checkbox":return(T(t)?function(e,t){return I(e,t)>-1}(t,n):t)?{checked:!0}:null;default:return{value:t}}}const{createComponentInstance:Le,setCurrentRenderingInstance:Pe,setupComponent:Oe,renderComponentRoot:Ee,normalizeVNode:Ne,pushWarningContext:Ue,popWarningContext:Ve}=f;function createBuffer(){let e=!1;const t=[];return{getBuffer:()=>t,push(r){const n=b(r);e&&n?t[t.length-1]+=r:(t.push(r),e=n,(g(r)||T(r)&&r.hasAsync)&&(t.hasAsync=!0))}}}function renderComponentVNode(e,t=null,r){const n=e.component=Le(e,t,null),s=Oe(n,!0),o=g(s);let a=n.sp;if(o||a){return Promise.resolve(s).then(()=>{if(o&&(a=n.sp),a)return Promise.all(a.map(e=>e.call(n.proxy)))}).catch(m).then(()=>renderComponentSubTree(n,r))}return renderComponentSubTree(n,r)}function renderComponentSubTree(e,t){const r=e.type,{getBuffer:n,push:s}=createBuffer();if(_(r)){let n=Ee(e);if(!r.props)for(const t in e.attrs)t.startsWith("data-v-")&&((n.props||(n.props={}))[t]="");renderVNode(s,e.subTree=n,e,t)}else{e.render&&e.render!==m||e.ssrRender||r.ssrRender||!b(r.template)||(r.ssrRender=function(){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}(r.template));const n=e.ssrRender||r.ssrRender;if(n){let r=!1!==e.inheritAttrs?e.attrs:void 0,o=!1,a=e;for(;;){const e=a.vnode.scopeId;e&&(o||(r={...r},o=!0),r[e]="");const t=a.parent;if(!t||!t.subTree||t.subTree!==a.vnode)break;a=t}if(t){o||(r={...r});const e=t.trim().split(" ");for(let t=0;t<e.length;t++)r[e[t]]=""}const i=Pe(e);try{n(e.proxy,s,e,r,e.props,e.setupState,e.data,e.ctx)}finally{Pe(i)}}else e.render&&e.render!==m?renderVNode(s,e.subTree=Ee(e),e,t):(r.name||r.__file,s("\x3c!----\x3e"))}return n()}function renderVNode(e,t,r,n){const{type:s,shapeFlag:o,children:a,dirs:i,props:c}=t;switch(i&&(t.props=function(e,t,r){const n=[];for(let t=0;t<r.length;t++){const s=r[t],{dir:{getSSRProps:o}}=s;if(o){const t=o(s,e);t&&n.push(t)}}return x(t||{},...n)}(t,c,i)),s){case R:e(k(a));break;case $:e(a?`\x3c!--${v(a)}--\x3e`:"\x3c!----\x3e");break;case S:e(a);break;case w:t.slotScopeIds&&(n=(n?n+" ":"")+t.slotScopeIds.join(" ")),e("\x3c!--[--\x3e"),renderVNodeChildren(e,a,r,n),e("\x3c!--]--\x3e");break;default:1&o?function(e,t,r,n){const s=t.type;let{props:o,children:a,shapeFlag:i,scopeId:c}=t,l=`<${s}`;o&&(l+=ssrRenderAttrs(o,s));c&&(l+=` ${c}`);let p=r,u=t;for(;p&&u===p.subTree;)u=p.vnode,u.scopeId&&(l+=` ${u.scopeId}`),p=p.parent;n&&(l+=` ${n}`);if(e(l+">"),!C(s)){let t=!1;o&&(o.innerHTML?(t=!0,e(o.innerHTML)):o.textContent?(t=!0,e(k(o.textContent))):"textarea"===s&&o.value&&(t=!0,e(k(o.value)))),t||(8&i?e(k(a)):16&i&&renderVNodeChildren(e,a,r,n)),e(`</${s}>`)}}(e,t,r,n):6&o?e(renderComponentVNode(t,r,n)):64&o?function(e,t,r,n){const s=t.props&&t.props.to,o=t.props&&t.props.disabled;if(!s)return[];if(!b(s))return[];!function(e,t,r,n,s){e("\x3c!--teleport start--\x3e");const o=s.appContext.provides[h],a=o.__teleportBuffers||(o.__teleportBuffers={}),i=a[r]||(a[r]=[]),c=i.length;let l;if(n)t(e),l="\x3c!--teleport start anchor--\x3e\x3c!--teleport anchor--\x3e";else{const{getBuffer:e,push:r}=createBuffer();r("\x3c!--teleport start anchor--\x3e"),t(r),r("\x3c!--teleport anchor--\x3e"),l=e()}i.splice(c,0,l),e("\x3c!--teleport end--\x3e")}(e,e=>{renderVNodeChildren(e,t.children,r,n)},s,o||""===o,r)}(e,t,r,n):128&o&&renderVNode(e,t.ssContent,r,n)}}function renderVNodeChildren(e,t,r,n){for(let s=0;s<t.length;s++)renderVNode(e,Ne(t[s]),r,n)}const{isVNode:De}=f;function nestedUnrollBuffer(e,t,r){if(!e.hasAsync)return t+unrollBufferSync$1(e);let n=t;for(let t=r;t<e.length;t+=1){const r=e[t];if(b(r)){n+=r;continue}if(g(r))return r.then(r=>(e[t]=r,nestedUnrollBuffer(e,n,t)));const s=nestedUnrollBuffer(r,n,0);if(g(s))return s.then(r=>(e[t]=r,nestedUnrollBuffer(e,"",t)));n=s}return n}function unrollBuffer$1(e){return nestedUnrollBuffer(e,"",0)}function unrollBufferSync$1(e){let t="";for(let r=0;r<e.length;r++){let n=e[r];b(n)?t+=n:t+=unrollBufferSync$1(n)}return t}async function renderToString(e,t={}){if(De(e))return renderToString(y({render:()=>e}),t);const r=d(e._component,e._props);r.appContext=e._context,e.provide(h,t);const n=await renderComponentVNode(r),s=await unrollBuffer$1(n);if(await async function(e){if(e.__teleportBuffers){e.teleports=e.teleports||{};for(const t in e.__teleportBuffers)e.teleports[t]=await unrollBuffer$1(await Promise.all([e.__teleportBuffers[t]]))}}(t),t.__watcherHandles)for(const e of t.__watcherHandles)e();return s}const{isVNode:Be}=f;F();const ze=`<${K}${propsToString(X)}>`,qe=`</${K}>`,getPrecomputedDependencies=()=>import("../build/client.precomputed.mjs").then(e=>e.default||e).then(e=>"function"==typeof e?e():e),Ie=lazyCachedFunction(async()=>{const e=await import("../build/server.mjs").then(function(e){return e.s}).then(e=>e.default||e);if(!e)throw new Error("Server bundle is not available");return createRenderer(e,{precomputed:await getPrecomputedDependencies(),manifest:void 0,renderToString:async function(e,t){const r=await renderToString(e,t);return ze+r+qe},buildAssetsURL:J})}),We=lazyCachedFunction(async()=>{const e=await getPrecomputedDependencies(),t=await import("../virtual/_virtual_spa-template.mjs").then(e=>e.template).catch(()=>"").then(e=>{{const t=`<${G}${propsToString(Y)}>`;return ze+qe+(e?t+e+`</${G}>`:"")}}),r=createRenderer(()=>()=>{},{precomputed:e,manifest:void 0,renderToString:()=>t,buildAssetsURL:J}),n=await r.renderToString({});return{rendererContext:r.rendererContext,renderToString:e=>{const t=Q(e.event);return e.modules||=new Set,e.payload.serverRendered=!1,e.config={public:t.public,app:t.app},Promise.resolve(n)}}});function lazyCachedFunction(e){let t=null;return()=>(null===t&&(t=e().catch(e=>{throw t=null,e})),t)}const Fe=lazyCachedFunction(()=>import("../build/styles.mjs").then(e=>e.default||e));function renderPayloadJsonScript(e){const t={type:"application/json",innerHTML:e.data?Z(e.data,e.ssrContext._payloadReducers):"","data-nuxt-data":te,"data-ssr":!e.ssrContext.noSSR,id:"__NUXT_DATA__"};e.src&&(t["data-src"]=e.src);return[t,{innerHTML:`window.__NUXT__={};window.__NUXT__.config=${ee(e.ssrContext.config)}`}]}const Je={disableDefaults:!0};const Ke={},Xe=[];globalThis.__buildAssetsURL=J,globalThis.__publicAssetsURL=ne;const Ge=!!pe.id,Ye=Ge?`<${se}${propsToString(pe)}>`:"",Qe=Ge?`</${se}>`:"",Ze=re(async e=>{const t=ue(),r=e.path.startsWith("/__nuxt_error")?oe(e):null;if(r&&!("__unenv__"in e.node.req))throw ae({statusCode:404,statusMessage:"Page Not Found: /__nuxt_error"});const n=function(e){return{url:e.path,event:e,runtimeConfig:Q(e),noSSR:e.context.nuxt?.noSSR||!1,head:createHead(Je),error:!1,nuxt:void 0,payload:{},_payloadReducers:Object.create(null),modules:new Set}}(e),s={mode:"server"};if(n.head.push(ie,s),r){if(r.statusCode&&=Number.parseInt(r.statusCode),"string"==typeof r.data)try{r.data=ce(r.data)}catch{}!function(e,t){e.error=!0,e.payload={error:t},e.url=t.url}(n,r)}const o=le(e);!1===o.ssr&&(n.noSSR=!0);const a=await function(e){return e.noSSR?We():Ie()}(n);for(const e of Xe)n.modules.add(e);const i=await a.renderToString(n).catch(async e=>{if(n._renderResponse&&"skipping render"===e.message)return{};const t=!r&&n.payload?.error||e;throw await(n.nuxt?.hooks.callHook("app:error",t)),t}),c=n._renderResponse?[]:await async function(e){const t=await Fe(),r=new Set;for(const n of e)if(n in t&&t[n])for(const e of await t[n]())r.add(e);return Array.from(r).map(e=>({innerHTML:e}))}(n.modules??[]);if(await(n.nuxt?.hooks.callHook("app:rendered",{ssrContext:n,renderResult:i})),n._renderResponse)return n._renderResponse;if(n.payload?.error&&!r)throw n.payload.error;const l=o.noScripts,{styles:p,scripts:u}=getRequestDependencies(n,a.rendererContext);n._preloadManifest&&!l&&n.head.push({link:[{rel:"preload",as:"fetch",fetchpriority:"low",crossorigin:"anonymous",href:J(`builds/meta/${n.runtimeConfig.app.buildId}.json`)}]},{...s,tagPriority:"low"}),c.length&&n.head.push({style:c});const d=[];for(const e of Object.values(p))d.push({rel:"stylesheet",href:a.rendererContext.buildAssetsURL(e.file),crossorigin:""});if(d.length&&n.head.push({link:d},s),l||(n.head.push({link:getPreloadLinks(n,a.rendererContext)},s),n.head.push({link:getPrefetchLinks(n,a.rendererContext)},s),n.head.push({script:renderPayloadJsonScript({ssrContext:n,data:n.payload})},{...s,tagPosition:"bodyClose",tagPriority:"high"})),!o.noScripts){const e="head";n.head.push({script:Object.values(u).map(t=>({type:t.module?"module":null,src:a.rendererContext.buildAssetsURL(t.file),defer:!t.module||null,tagPosition:e,crossorigin:""}))},s)}const{headTags:f,bodyTags:y,bodyTagsOpen:h,htmlAttrs:g,bodyAttrs:m}=await renderSSRHead(n.head,Ke),T={htmlAttrs:g?[g]:[],head:normalizeChunks([f]),bodyAttrs:m?[m]:[],bodyPrepend:normalizeChunks([h,n.teleports?.body]),body:[i.html,Ye+(Ge?joinTags([n.teleports?.[`#${pe.id}`]]):"")+Qe],bodyAppend:[y]};return await t.hooks.callHook("render:html",T,{event:e}),{body:(_=T,`<!DOCTYPE html><html${joinAttrs(_.htmlAttrs)}><head>${joinTags(_.head)}</head><body${joinAttrs(_.bodyAttrs)}>${joinTags(_.bodyPrepend)}${joinTags(_.body)}${joinTags(_.bodyAppend)}</body></html>`),statusCode:fe(e),statusMessage:de(e),headers:{"content-type":"text/html;charset=utf-8","x-powered-by":"Nuxt"}};var _});function normalizeChunks(e){const t=[];for(const r of e){const e=r?.trim();e&&t.push(e)}return t}function joinTags(e){return e.join("")}function joinAttrs(e){return 0===e.length?"":" "+e.join(" ")}const et=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));export{ssrRenderSlot as a,ssrInterpolate as b,ssrRenderAttrs as c,ssrRenderSuspense as d,ssrRenderClass as e,ssrRenderList as f,ssrGetDynamicModelProps as g,Ce as h,et as i,renderVNode as r,ssrRenderComponent as s,useHead as u};
//# sourceMappingURL=renderer.mjs.map
